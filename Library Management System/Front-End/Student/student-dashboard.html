<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Dashboard</title>
  <link rel="stylesheet" href="../Librarian/style.css" />
  <style>
    .dashboard-header {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      color: white;
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .dashboard-header h1 { margin: 0; }
    .dashboard-header .user-info {
      text-align: right;
      font-size: 14px;
    }
    .logout-btn {
      background: #d32f2f;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      margin-top: 10px;
    }
    .logout-btn:hover { background: #b71c1c; }
    .container { max-width: 1000px; margin: 0 auto; padding: 30px 20px; }
    .search { margin-bottom: 30px; }
    .search input, .search button {
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-right: 5px;
    }
    .search button { background: #4f46e5; color: white; border: none; cursor: pointer; }
    .book-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    .book-table th, .book-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }
    .book-table th { background: #f5f5f5; font-weight: 600; }
    .book-table tr:hover { background: #f9f9f9; }
    .request-btn { background: #4f46e5; color: white; padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; }
    .request-btn:hover { background: #3d33b3; }
    .request-btn:disabled { background: #ccc; cursor: not-allowed; }
  </style>
</head>
<body>
  <div class="dashboard-header">
    <div>
      <h1>Student Dashboard</h1>
      <p>Welcome to your library portal</p>
    </div>
    <div class="user-info">
      <p>ðŸ‘¤ <strong id="studentName">Name</strong></p>
      <p id="studentEmail">email@example.com</p>
      <button class="logout-btn" id="logoutBtn">Logout</button>
    </div>
  </div>

  <div class="container">
    <section>
      <h2>Search Books</h2>
      <div class="search">
        <input type="text" id="searchInput" placeholder="Search by title, author, or publisher" />
        <button id="searchBtn">Search</button>
        <button id="clearBtn">Clear</button>
      </div>

      <div id="book_list">
        <table class="book-table" id="booksTable">
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Publisher</th>
              <th>Pages</th>
              <th>Action</th>
            </tr>
          </thead>
                  <tbody id="booksTableBody">
          </tbody>
        </table>
      </div>
    </section>

    <section style="margin-top: 40px;">
      <h2>Your Requests</h2>
      <ul id="requestList" style="list-style: none; padding: 0;">
        <li style="color: #999;">No requests yet.</li>
      </ul>
    </section>
  </div>

  <script src="../books-data.js"></script>
  <script src="student-dashboard.js"></script>
  <script>
    // Load all 100 books from shared data on page load
    document.addEventListener("DOMContentLoaded", () => {
      loadBooksToTable("booksTableBody");
    });
  </script>
</body>
</html>